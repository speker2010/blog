<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/common.css">
    <title>Просто поучите ассемблер</title>
    <meta name="description" content="Способ очистить базу данных от таблиц без ее удаления">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <div class="container">
        <nav>
            <ul>
                <li><a href="/">На главную</a></li>
            </ul>
        </nav>
        <h1>Просто поучите ассемблер</h1>
        <p>
            TLDR; Посмотрел сегодня ролик Стаса Ай Как Просто (<a href="https://www.youtube.com/watch?v=LZdh99vl1zI">ссылка</a>) в котором он смотрит критику на себя и отвечает на нее.
            Критикующий является программистом и очень плохо объясняет свою точку зрения. От слова совсем. <a href="#my-opinion">Мое мнение</a> в конце статьи.
            Здесь я просто объясню почему техно бомб предлагает учить ассемблер.
        </p>
        <h2>Для тех кто не хочет вдаваться в детали</h2>
        <p>
            Meltdown и spectre касаются архитектуры процессора и того как он работает. Ассемблер это язык программирования, который очень близок к железу.
            Настолько что для разных процессоров нужно использовать разные комманды, а многие манипуляции происходят с регистрами процессора. Регистр это ячейка памяти которая является частью процессора и она супер быстрая.
            И чтобы изучить ассемблер придется изучить комманды и устройство конкретного процессора(регистры, прерывания и тд).
            В языках более высокого уровня, таких как java или c# обычно не происходит работы напрямую с процессором.
            Поэтому совет поучить ассемблер чтобы разобраться в проблеме meltdown в принципе верный, но из-за не умения донести свои мысли, выглядит очень странно.
        </p>
        <h2>Детали</h2>
        <h3>Машинный код</h3>
        <p>
            Так уж вышло, что компьютеры понимают только двоичные данные. Есть конечно квантовые компьютеры, но это пока нас не касается. До простых пользователей они пока не дошли.
            И чтобы процессор что нибудь сделал, нужно ему описать что сделать и с чем. Чтобы это можно было сделать у процессора есть определенные коды команд.
            Я не буду разбирать сложные вещи, потому что сам знаком с машинным кодом, только в общих чертах. Представим себе сложение.
        </p>
        <p>
            Чтобы сложить два числа на современном процессоре надо сказать ему:
        </p>
        <ul>
            <li>Что надо сделать</li>
            <li>Где взять первое число</li>
            <li>Где взять второе число</li>
            <li>Куда записать результат</li>
        </ul>
        <p>
            Т.е. получится что-то вроде <code>сложить оп1яч1 оп1яч2 оп1яч3</code>. Процессор поймет что ему надо сложить два числа. Первое взять в планке оперативной памяти под номером 1(оп1), в первой ячейке(яч1),
            второе соответственно там же, но в ячейке 2. Результат положить туда же но в ячейку 3. В реальной инструкции адресация не такая, но я намерено упростил, чтобы было понятнее.            
            Просто говорим процессору где искать числа и куда деть результат
        </p>
        <p>
            Но как я сказал выше процессор понимает только двоичные данные. Поэтому придется записать это все набором 1 и 0.
        </p>
        <p><strong>Предположим:</strong></p>
        <p>
            У процессора жестко заданы все коды команд. Например cумма будет 1101. И процессор знает что длина всех команд не будет привышать 4 цифры, адреса чисел будут не длинее 4 цифр.
        </p>
        <p>
            <strong>Тогда:</strong>
        </p>            
        <p>
            Команда сложения будет выглядеть как-то так <code>1101100110101011</code> или если поставить пробелы <code>1101 1001 1010 1011</code>.
        </p>
        <p>Если представить таблицей:</p>    
        <table>
            <tr>
                <td>1101</td>
                <td>1001</td>
                <td>1010</td>
                <td>1011</td>
            </tr>
            <tr>
                <td>Команда суммы</td>
                <td>Адрес первой цифры</td>
                <td>Адрес второй цифры</td>
                <td>Адрес куда записать результат</td>
            </tr>
        </table>
        <p>
            Глядя на такое грустнеешь. Тлен и все такое. Даже если перевести двоичные числа в шестнадцатиричные, все равно полный отстой. <code>D9AB</code>. Почему шестнадцатиричные?
            Потому что тогда один символ соотвествует одному блоку и можно легко разбить это на части. Тут <code>D</code> соотвествует <code>1101</code>, <code>9</code> это <code>1001</code> и тд.
            При такой записи ошибиться легко. Поэтому появился ассемблер, который все еще тяжело читается, но это в разы лучше чем машинный код.
        </p>
        <h3>Ассемблер</h3>
        <p>
            Чтобы не писать машинный код самостоятельно сделали ассемблер. На самом деле ассемблер это не язык, а программа которая переводит код написанный на языке ассемблера в машинный.
            Обычно когда говорят про ассемблер имеют ввиду именно язык ассемблера, а процесс перевода ассемблерного кода в машинный код называют ассемблированием. 
            Принцип написания кода на языке ассемблера похож на описанный выше машинный код, только обычно есть соглашение в каком месте будет лежать результат, нам нужно будет только указать адреса чисел.
            Обычно результат записывается по адресу где первое число.
        </p>
        <p>
            Строчка кода на ассемблере, которая складывает два числа:
        </p>
        <p>
            <code>
                mov dx, 1 
                mov cx, 2 
                add dx, cx 
                
            </code>
        </p>                       
        <p>
            Это значит dx = dx + cx. Т.е. <code>add</code> это команда суммы, dx это имя регистра в который мы положили первое число, cx это имя регистра в котором второе число.
            Как видите намного проще чем <code>1101 1001 1010 1011</code>. Но чтобы знать какие есть имена у регистров процессора, чтобы полноценно программировать, нужно знать как устроен и работает процессор,
            потому что помимо регистров есть еще кэш память, оперативная память, жесткие диски и тд. Чтобы использовать все это в коде ассемблера, надо будет хорошо разобраться что с чем и как взаимодействует.
            А понимая это легко можно разобраться с тем как работают meltdown и spectre.
        </p>
        <h2>Почему я не могу изучить другой язык для этого?</h2>
        <p>
            Потому что другие языки не касаются железа в принципе. Может быть есть способы "пробиться" к процессору, но чем проще язык, тем он дальше от прямого взаимодействия с железом.
        </p>
        <p>
            Например для c# сложение будет выглядеть как-то так: 
        </p>
        <p>
            <code>
                int a = 1;
                int b = 2;
                int c = a + b; 

            </code>
        </p>
        
        
        <p>
            Что тут происходит?
        </p>
        <p>
            <code>int</code> значит что переменная будет содержать целое число(бывают еще десятичные числа, строки и тд).
            Объявление <code>int</code> влияет на то сколько памяти выделится для хранения числа. <code>=</code> это оператор присваивания, аналог <code>mov</code> в ассемблере.
            Мы говорим что в переменной а будет лежать число 1.
            <code>+</code> понятное дело команда сложения, аналог <code>add</code> в ассемблере.
            Для того чтобы писать такой код, не нужно знать как устроено железо. Не нужно знать в каких конкретно местах лежат числа.
            Нужно знать только конструкции языка. Язык все это делает за нас.
        </p>
        <h2 id="my-opinion">Мое мнение о ролике техно бомб</h2>
        <p>Я думаю так же как Стас. Чувак все странно сделал. Где-то разоблачал, то чего нет, почти везде сыпал терминами не объясняя их. Понять нормальному человеку что-то из его ролика не возможно</p>
    </div>
</body>
</html>